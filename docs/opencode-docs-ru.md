# Введение

Начните работу с OpenCode.
[OpenCode](https://opencode.ai/) — это ИИ-агент для написания кода с открытым исходным кодом. Он доступен в виде терминального интерфейса, десктопного приложения или расширения для IDE.

Давайте начнем.

#### Предварительные требования

Чтобы использовать OpenCode в терминале, вам понадобятся:

1. Современный эмулятор терминала, например:
    *   [WezTerm](https://wezterm.org) (кроссплатформенный)
    *   [Alacritty](https://alacritty.org) (кроссплатформенный)
    *   [Ghostty](https://ghostty.org) (Linux и macOS)
    *   [Kitty](https://sw.kovidgoyal.net/kitty/) (Linux и macOS)

2. API-ключи для LLM-провайдеров, которые вы хотите использовать.

## Установка

Самый простой способ установить OpenCode — через установочный скрипт.

```bash
curl -fsSL https://opencode.ai/install | bash
```

Вы также можете установить его с помощью следующих команд:

### Использование Node.js

*   **npm**: `npm install -g opencode-ai`
*   **Bun**: `bun install -g opencode-ai`
*   **pnpm**: `pnpm install -g opencode-ai`
*   **Yarn**: `yarn global add opencode-ai`

### Использование Homebrew (macOS и Linux)

```bash
brew install opencode
```

### Использование Paru (Arch Linux)

```bash
paru -S opencode-bin
```

### Windows

*   **Chocolatey**: `choco install opencode`
*   **Scoop**: `scoop bucket add extras && scoop install extras/opencode`
*   **NPM**: `npm install -g opencode-ai`
*   **Mise**: `mise use -g github:anomalyco/opencode`
*   **Docker**: `docker run -it --rm ghcr.io/anomalyco/opencode`

Поддержка установки OpenCode на Windows с использованием Bun в настоящее время в разработке. 
Вы также можете скачать бинарный файл из [Releases](https://github.com/anomalyco/opencode/releases).

## Настройка

С OpenCode вы можете использовать любого LLM-провайдера, настроив его API-ключи.
Если вы новичок в использовании LLM-провайдеров, мы рекомендуем использовать [OpenCode Zen](opencode-docs-zen-ru.md). Это отобранный список моделей, протестированных и проверенных командой OpenCode.

1.  Запустите команду `/connect` в TUI, выберите `opencode` и перейдите на [opencode.ai/auth](https://opencode.ai/auth).

    ```bash
    /connect
    ```

2.  Войдите в систему, добавьте свои платежные данные и скопируйте API-ключ.

3.  Вставьте свой API-ключ.

    ```
    ┌ API key││└ enter
    ```

В качестве альтернативы вы можете выбрать одного из других провайдеров. [Подробнее](opencode-docs-providers-ru.md#directory).

## Инициализация

Теперь, когда вы настроили провайдера, вы можете перейти в проект, над которым хотите работать.

```bash
cd /path/to/project
```

И запустите OpenCode.

```bash
opencode
```

Затем инициализируйте OpenCode для проекта, выполнив следующую команду:

```bash
/init
```

Это заставит OpenCode проанализировать ваш проект и создать файл `AGENTS.md` в корне проекта.

> **Совет**: Вам следует добавить файл `AGENTS.md` вашего проекта в Git. Это помогает OpenCode понимать структуру проекта и используемые паттерны кодирования.

## Использование

Теперь вы готовы использовать OpenCode для работы над своим проектом. Не стесняйтесь спрашивать его о чем угодно!
Если вы новичок в использовании ИИ-агента для кодирования, вот несколько примеров, которые могут помочь.

### Задавайте вопросы

Вы можете попросить OpenCode объяснить вам кодовую базу.

> **Совет**: Используйте клавишу `@` для нечеткого поиска файлов в проекте.

Пример:
```
Как реализована аутентификация в @packages/functions/src/api/index.ts
```

Это полезно, если есть часть кодовой базы, над которой вы не работали.

### Добавляйте функции

Вы можете попросить OpenCode добавить новые функции в ваш проект. Однако мы рекомендуем сначала попросить его создать план.

1.  **Создайте план**
    У OpenCode есть режим планирования (**Plan mode**), который отключает возможность вносить изменения и вместо этого предлагает, как реализовать функцию.
    Переключитесь на него, используя клавишу `Tab`. Вы увидите индикатор этого в правом нижнем углу.

    ```
    <TAB>
    ```

    Теперь давайте опишем, что мы хотим, чтобы он сделал.

    ```
    Когда пользователь удаляет заметку, мы хотели бы пометить ее как удаленную в базе данных.
    Затем создайте экран, который показывает все недавно удаленные заметки.
    С этого экрана пользователь может восстановить заметку или навсегда удалить ее.
    ```

    Вы должны дать OpenCode достаточно деталей, чтобы он понял, что вы хотите. Полезно говорить с ним так, как будто вы разговариваете с младшим разработчиком в вашей команде.

    > **Совет**: Дайте OpenCode много контекста и примеров, чтобы помочь ему понять, что вы хотите.

2.  **Итерация по плану**
    Как только он выдаст вам план, вы можете дать обратную связь или добавить больше деталей.

    ```
    Мы хотели бы спроектировать этот новый экран, используя дизайн, который я использовал ранее.
    [Image #1] Взгляни на это изображение и используй его как референс.
    ```

    > **Совет**: Перетаскивайте изображения в терминал, чтобы добавить их в промпт. OpenCode может сканировать любые изображения, которые вы ему даете.

3.  **Создание функции**
    Как только вы будете удовлетворены планом, переключитесь обратно в режим сборки (**Build mode**), снова нажав клавишу `Tab`.

    ```
    <TAB>
    ```

    И попросите его внести изменения.

    ```
    Звучит отлично! Действуй и вноси изменения.
    ```

### Вносите изменения

Для более простых изменений вы можете попросить OpenCode сразу собрать их, не просматривая план.

```
Нам нужно добавить аутентификацию в маршрут /settings.
Посмотри, как это реализовано в маршруте /notes в @packages/functions/src/notes.ts, и реализуй ту же логику в @packages/functions/src/settings.ts
```

Убедитесь, что вы предоставляете достаточно деталей, чтобы OpenCode внес правильные изменения.

### Отменяйте изменения

Допустим, вы попросили OpenCode внести некоторые изменения.

```
Можешь отрефакторить функцию в @packages/functions/src/api/index.ts?
```

Но вы поняли, что это не то, что вы хотели. Вы можете отменить изменения с помощью команды `/undo`.

```bash
/undo
```

OpenCode отменит изменения, которые вы сделали, и снова покажет ваше исходное сообщение. Отсюда вы можете подкорректировать промпт и попросить OpenCode попробовать еще раз.

> **Совет**: Вы можете запускать `/undo` несколько раз, чтобы отменить несколько изменений. Или вы можете повторить изменения с помощью команды `/redo`.

## Поделиться

Разговорами, которые вы ведете с OpenCode, можно [поделиться с вашей командой](opencode-docs-share-ru.md).

```bash
/share
```

Это создаст ссылку на текущий разговор и скопирует её в буфер обмена.

> **Примечание**: Разговоры не расшариваются по умолчанию.

Вот [пример разговора](https://opencode.ai/s/4XP1fce5) с OpenCode.

## Кастомизация

Вот и всё! Теперь вы профи в использовании OpenCode.
Чтобы настроить его под себя, мы рекомендуем [выбрать тему](opencode-docs-themes-ru.md), [настроить горячие клавиши](opencode-docs-keybinds-ru.md), [настроить форматтеры кода](opencode-docs-formatters-ru.md), [создать пользовательские команды](opencode-docs-commands-ru.md) или поэкспериментировать с [конфигурацией OpenCode](opencode-docs-config-ru.md).
