# TUI (Терминальный интерфейс)

Использование терминального интерфейса OpenCode.

## Ссылки на файлы (File references)

Вы можете ссылаться на файлы в ваших сообщениях, используя символ `@`. Это выполняет нечеткий поиск файлов в текущем рабочем каталоге.

```bash
How is auth handled in @packages/functions/src/api/index.ts?
```

Содержимое файла автоматически добавляется в разговор.

## Bash команды (Bash commands)

Начните сообщение с `!`, чтобы выполнить команду оболочки.

```bash
!ls -la
```

Результат выполнения команды добавляется в разговор как результат инструмента.

## Команды (Commands)

При использовании OpenCode TUI вы можете набрать `/`, за которым следует имя команды, чтобы быстро выполнить действие.

```bash
/help
```

У большинства команд также есть сочетание клавиш (keybind), использующее `ctrl+x` в качестве лидирующей клавиши (leader key). [Узнайте больше](opencode-docs-keybinds-ru.md).

Вот все доступные слэш-команды:

### connect
Добавить провайдера в OpenCode. Позволяет выбрать из доступных провайдеров и добавить их API ключи.

```bash
/connect
```

### compact
Сжать текущую сессию. Алиас: `/summarize`.
Клавиши: `ctrl+x c`.

### details
Переключить детали выполнения инструмента.
Клавиши: `ctrl+x d`.

### editor
Открыть внешний редактор для написания сообщений. Использует редактор, заданный в переменной окружения `EDITOR`.
Клавиши: `ctrl+x e`.

### exit
Выйти из OpenCode. Алиасы: `/quit`, `/q`.
Клавиши: `ctrl+x q`.

### export
Экспортировать текущую переписку в Markdown и открыть в редакторе по умолчанию.
Клавиши: `ctrl+x x`.

### help
Показать диалог справки.
Клавиши: `ctrl+x h`.

### init
Создать или обновить файл `AGENTS.md`. [Узнайте больше](opencode-docs-rules-ru.md).
Клавиши: `ctrl+x i`.

### models
Список доступных моделей.
Клавиши: `ctrl+x m`.

### new
Начать новую сессию. Алиас: `/clear`.
Клавиши: `ctrl+x n`.

### redo
Повторить ранее отмененное сообщение. Доступно только после использования `/undo`.
Любые изменения файлов также будут восстановлены. Внутренне это использует Git, поэтому ваш проект должен быть Git-репозиторием.
Клавиши: `ctrl+x r`.

### sessions
Список и переключение между сессиями. Алиасы: `/resume`, `/continue`.
Клавиши: `ctrl+x l`.

### share
Поделиться текущей сессией. [Узнайте больше](opencode-docs-share-ru.md).
Клавиши: `ctrl+x s`.

### themes
Список доступных тем.
Клавиши: `ctrl+x t`.

### undo
Отменить последнее сообщение в разговоре. Удаляет последнее сообщение пользователя, все последующие ответы и любые изменения файлов.
Клавиши: `ctrl+x u`.

### unshare
Прекратить делиться текущей сессией.

## Настройка редактора (Editor setup)

Команды `/editor` и `/export` используют редактор, указанный в вашей переменной окружения `EDITOR`.

**Linux/macOS**:
```bash
export EDITOR=nano
# Для GUI редакторов (например, VS Code):
export EDITOR="code --wait"
```
Добавьте это в ваш `~/.bashrc` или `~/.zshrc`.

**Windows (PowerShell)**:
```powershell
$env:EDITOR = "notepad"
# Для GUI редакторов:
$env:EDITOR = "code --wait"
```

Примечание: Некоторые редакторы, такие как VS Code, нужно запускать с флагом `--wait`, чтобы процесс блокировался до закрытия файла.

## Настройка (Configure)

Вы можете настроить поведение TUI через ваш файл конфигурации OpenCode.

```json
{
  "$schema": "https://opencode.ai/config.json",
  "tui": {
    "scroll_speed": 3,
    "scroll_acceleration": {
      "enabled": true
    }
  }
}
```

### Опции

*   `scroll_acceleration`: Включить ускорение прокрутки в стиле macOS. Если включено, переопределяет `scroll_speed`.
*   `scroll_speed`: Управляет скоростью прокрутки TUI (минимум: 1). По умолчанию 1 на Unix и 3 на Windows.

## Кастомизация (Customization)

Вы можете настроить различные аспекты вида TUI с помощью командной панели (`ctrl+x h` или `/help`).

### Отображение имени пользователя

Переключить отображение вашего имени пользователя в сообщениях чата. Настройка сохраняется между сессиями.
